<input hidden type="file" (change)="onClick($event)" accept="*" #fileInput />
<div class="content" [class.h-full]="!showDropzone">
  <ng-container *ngTemplateOutlet="mainContainer"></ng-container>
</div>

<ng-template #mainContainer>
  <div (dragenter)="onDragEnter($event)" fxLayout="row" fxFill>
    <div
      *ngIf="dropzoneHovered"
      class="drag-placeholder h-full"
      fxLayout="column"
      fxLayoutAlign="end center"
      (drop)="onDrop($event)"
      (dragleave)="onDragLeave($event)"
    >
      <div
        fxLayout="row"
        fxLayoutAlign="start center"
        fxLayoutGap="8px"
        class="bg-white mb-4 p-3 rounded-lg shadow-xl"
      >
        <div class="upload-icon xl3-size"></div>
        <div>Drop file anywhere to upload</div>
      </div>
    </div>
    <div
      class="overflow-y-scroll"
      [class.dropzone]="showDropzone"
      (click)="showDropzone ? fileInput.click() : undefined"
    >
      <ng-content></ng-content>
    </div>
  </div>
</ng-template>
